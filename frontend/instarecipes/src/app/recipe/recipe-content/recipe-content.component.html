<div *ngIf="recipe">
  <p>
    {{recipe?.title}}
    {{recipe?.username.username}}
    {{recipe?.description}}
  </p>
  <div class="container" style="margin-top: 10%;">

  <div class="col-12" style="margin-top: 5%;">
    <h1 class="mt-4 mb-3" style="text-align: center;">{{recipe?.title}}</h1>
  </div>
  <hr width="50%">
  <!-- Top section -->
  <section>
  <div class="row">
    <!-- Post Content Column -->
    <div class="col-lg-8">
      <!-- Preview image -->
      <div id="carouselExampleIndicators" class="carousel slide">
        <div class="carousel-inner" style="border-radius: 0.8rem;">
            <img class="carousel-item active" [src]= "image[0]">
        </div>
      </div>
      <!-- Date/Time -->
      <div class="row">
        <div class="col-8">
          <!-- <p> POSTED ON JANUARY 1, 2017 AT 12:00 PM</p> -->
        </div>
        <div class="col-4">
          <ol class="likes-comments-simple-recipe">
            <li><h3 class="font-weight-light"> {{likes}}</h3></li>

            <li *ngIf="liked; then thenblock else elseblock" style="cursor: pointer;"></li>
              <ng-template #thenblock>
                <form >
                  <button (click)="unlikeToRecipe()" type="submit" style="width: inherit;border: 0px;">
                    <img class="focusHeart" src="../../../assets/images/icons/like_pressed.png" width= "85%" alt="">
                  </button>
                </form>
              </ng-template>
              <ng-template #elseblock>
                <form >
                  <button (click)="likeToRecipe()" type="submit" style="width: inherit;border: 0px;">
                    <img class="focusHeart" src="../../../assets/images/icons/like_unpressed.png" width= "85%" alt="">
                  </button>
                </form>
              </ng-template>

            <li><h3 class="font-weight-light">{{recipe?.n_comments}}</h3></li>
            <li><a class="js-scroll-trigger rounded" href="#comments-section"><img src="../../../assets/images/icons/dialogue.png" height="80%" alt=""></a></li>
          </ol>
        </div>
      </div>
      <!-- User details -->
      <div class="row" style="border-bottom: 1px solid rgba(0, 0, 0, 0.6); border-top: 1px solid rgba(0, 0, 0, 0.6);">
        <div class="col-4" style="align-self: center; justify-content: center;">
          <img class="userimg d-flex mr-3 rounded-circle" [src]= 'avatar' style="width: 200px;height: 200px;object-fit: cover;" alt="">
        </div>
        <div class="col-8">
          <table class="card-body">
            <tr>by <h3>{{recipe?.username.name}}&nbsp;{{recipe?.username.surname}}</h3></tr>
            <tr class="card-header">
              <th><h5 class="text-uppercase mb-0 font-weight-light">User</h5></th>
              <th><h5 class="text-uppercase mb-0 font-weight-light"><img id="pressedLike" src="../../../assets/images/icons/like_pressed.png" height="20%" width="20%" alt="" ></h5></th>
              <th><h5 class="text-uppercase mb-0 font-weight-light">Publications</h5></th>
            </tr>
            <tr>
              <td><div class="profile-border"><h3 class="font-weight-light"><a [routerLink]= "['/user-profile/']" [state]= "{data: {a:recipe?.username.id}}" >@{{recipe?.username.username}}</a></h3></div></td>
                <td><div class="profile-border"><h3 class="font-weight-dark">{{allLikes?.toString()}}</h3></div></td>
                <td><div class="profile-border"><h3 class="font-weight-light">{{publications?.toString()}}</h3></div></td>
            </tr>
          </table >
        </div>
      </div>
    </div>
    <!-- Sidebar Widgets Column -->
    <div class="col-4">
      <!-- Ingredients Widget -->
      <div class="ingredients">
          <h5 class="card-header">Ingredients</h5>
          <div class="card-body" >
            <ul class="recipe-scrollbar" >
              <li *ngFor="let ingredient of recipe.ingredients; index as i">{{ingredient.ingredient}}</li>
            </ul>
          </div>
      </div>
      <hr width="50%">
      <!-- Category Widget -->
      <div class="category">
        <h5 class="card-header">Category's</h5>
        <div class="card-body">
          <div class="row">
            <div class="col-lg-6">
              <ul class="recipe-scrollbar list-unstyled mb-0" style="height: 100px;">

                  <li *ngFor="let category of recipe.categories; index as i">{{category.category}}</li>

              </ul>
            </div>
          </div>
        </div>
      </div>
      <hr width="50%">
      <!-- Details Widget -->
      <div class="details">
        <table class="card-body">
          <tr class="card-header">
            <th><h5 class="text-uppercase mb-0 font-weight-light">Dificulty</h5></th>
            <th><h5 class="text-uppercase mb-0 font-weight-light">Steps</h5></th>
            <th><h5 class="text-uppercase mb-0 font-weight-light">Aprox. time</h5></th>
          </tr>
          <tr>
            <td><div class="profile-border"><h3 class="font-weight-light">{{recipe?.difficulty}}</h3></div></td>
            <td><div class="profile-border"><h3 class="font-weight-light">{{recipeService.nSteps}}</h3></div></td>
            <td><div class="profile-border"><h3 class="font-weight-light">{{recipe?.duration}}</h3></div></td>
          </tr>
        </table>
      </div>
    </div>
  </div>
  </section>
  </div>
</div>
